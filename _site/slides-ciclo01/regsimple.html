<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.53">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Semillero R - FacCA">

<title>Análisis de Regresión – Ciencia de Datos con R y Python</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../favicon.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script>
<link href="../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<script src="../site_libs/plotly-binding-4.10.4/plotly.js"></script>

<script src="../site_libs/typedarray-0.1/typedarray.min.js"></script>

<script src="../site_libs/jquery-3.5.1/jquery.min.js"></script>

<link href="../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

<script src="../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>

<link href="../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">

<script src="../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Ciencia de Datos con R y Python</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Buscar"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Navegación de palanca" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Inicio</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">Información</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-temas" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Temas</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-temas">    
        <li>
    <a class="dropdown-item" href="../ciclo1.html">
 <span class="dropdown-text">Ciclo 01</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../ciclo2.html">
 <span class="dropdown-text">Ciclo 02</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../ciclo3.html">
 <span class="dropdown-text">Ciclo 03</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-documentación" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Documentación</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-documentación">    
        <li>
    <a class="dropdown-item" href="../recursos-info.html">
 <span class="dropdown-text">Recursos Web</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../books-rpy.html">
 <span class="dropdown-text">Libros</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../guide-rpy.html">
 <span class="dropdown-text">Guías - Herramientas</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/web-edimer/unal-semilleror-facca.github.io"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.youtube.com/@rpycol"> <i class="bi bi-youtube" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Análisis de Regresión</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Autor/a</div>
    <div class="quarto-title-meta-contents">
             <p>Semillero R - FacCA </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Fecha de publicación</div>
    <div class="quarto-title-meta-contents">
      <p class="date">Invalid Date</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="problema" class="level1">
<h1>Problema</h1>
<section id="descripción-del-problema" class="level2">
<h2 class="anchored" data-anchor-id="descripción-del-problema">Descripción del problema</h2>
<div class="black">
<strong>Gasto militar vs Gasto en Educación:</strong> previamente se evidenció a través de gráficos de dispersión y métricas de correlación, la relación negativa entre la inversión militar y la inversión en educación. Se sugiere construir un modelo de regresión lineal simple que permita determinar el cambio en <span class="math inline">\(y\)</span> dado <span class="math inline">\(x\)</span>, es decir, que el modelo permitirá establecer por cada unidad que aumenta el gasto militar, cuánto disminuye el gasto en educación. El modelo se puede expresar de la siguiente manera: <br> <br>
<center>
<ul>
<li>Modelo matemático: <span class="math inline">\(y = mx + b\)</span></li>
<li>Modelo estadístico 1: <span class="math inline">\(y = \beta_0\ +\ \beta_1X\)</span></li>
<li>Modelo estadístico 2: <span class="math inline">\(\hat{y_i} = \hat{\beta_0}\ + \hat{\beta_1}X_i\ + \epsilon_i\)</span></li>
</ul>
</center>
</div>
</section>
</section>
<section id="gasto-militar-vs-gasto-educación" class="level1">
<h1>Gasto Militar vs Gasto Educación</h1>
<section id="base-de-datos" class="level2">
<h2 class="anchored" data-anchor-id="base-de-datos">Base de datos</h2>
<p><br> <br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>                               pais gasto_militar17 gasto_edu16
1                        Afganistán    0.9068569412     4.20525
2                           Albania    1.2441751239     3.95464
3                         Argentina    0.9096629933     5.57218
4                           Armenia    3.9680393674     2.75812
5                        Azerbaiyán    3.9373999369     2.90341
6                        Bangladesh    1.3807504138     1.53554
7                           Belarús    1.1919853143     4.94655
8                            Belice    1.2530838896     7.06045
9                             Benin    1.2163217396     3.99469
10                Brunei Darussalam    2.8792250162     4.42541
11                          Burundi    1.9831535621     4.61813
12                       Cabo Verde    0.5420811232     5.36651
13                          Camerún    1.3165941862     2.68755
14                            Chile    1.9100618544     5.35064
15                         Colombia    3.1022327050     4.52091
16 Congo, República Democrática del    0.6987735959     2.11869
17                       Costa Rica    0.0000000000     7.11873
18                    Côte d'Ivoire    1.2804434296     4.94837
19                      El Salvador    0.9005176939     3.86991
20                          Georgia    2.2251392292     3.78477
21                            Ghana    0.4060350550     5.76632
22                        Guatemala    0.3732213478     2.83281
23                           Guinea    2.3324667356     2.51800
24                           Guyana    1.4436772536     6.06100
25                            Haití    0.0008874827     2.44959
26                         Honduras    1.5782303116     6.30177
27     Irán, República Islámica del    3.0992593495     3.36576
28                          Jamaica    0.9035377847     5.31866
29                            Japón    0.9349600138     3.46746
30                         Jordania    4.7977879047     3.89621
31                        Kazajstán    0.8412224616     2.97810
32                            Kenya    1.2307076293     5.36267
33                       Kirguistán    3.1581710557     6.58615
34                          Liberia    0.6381542056     4.00885
35                          Malasia    1.1254530523     4.82754
36                           Malawi    0.7701815595     4.74857
37                             Malí    3.0540937475     3.09071
38                         Mauricio    0.1806502692     5.01360
39                         Mongolia    0.7371034337     5.18212
40                            Nepal    1.5527522697     4.44099
41                        Nicaragua    0.6099226660     4.11264
42                            Níger    2.6747584248     4.04160
43                   Nueva Zelandia    1.1584442250     6.30374
44                         Pakistán    3.4954831621     2.49180
45                         Paraguay    1.1841593158     4.52037
46                             Perú    0.9773833671     3.81827
47                      Reino Unido    1.8348367707     5.54179
48             República de Moldova    0.4206777465     6.66130
49                           Rwanda    0.9745172897     3.53979
50                          Senegal    1.8966349226     6.62561
51                           Serbia    1.8285005701     3.86178
52                       Seychelles    1.5655817347     4.41832
53                     Sierra Leona    0.7233298489     3.06023
54                        Sri Lanka    2.1719720294     3.47508
55                        Sudáfrica    1.0474903232     5.94059
56                            Suiza    0.6836302129     5.12430
57                             Togo    1.9352608797     5.06326
58                          Ucrania    3.4129745864     5.01437
59                           Uganda    1.6750659682     2.55882</code></pre>
</div>
</div>
</section>
<section id="distribuciones" class="level2">
<h2 class="anchored" data-anchor-id="distribuciones">Distribuciones</h2>
<div class="columns-2">
<section id="gasto-militar" class="level4">
<h4 class="anchored" data-anchor-id="gasto-militar">Gasto militar</h4>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="regsimple_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="480"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="gasto-educación" class="level4 columns-2">
<h4 class="anchored" data-anchor-id="gasto-educación">Gasto Educación</h4>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="regsimple_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="480"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="gráficos-de-dispersión" class="level2">
<h2 class="anchored" data-anchor-id="gráficos-de-dispersión">Gráficos de dispersión</h2>
<div class="columns-2">
<section id="con-valor-atípico" class="level4">
<h4 class="anchored" data-anchor-id="con-valor-atípico">Con valor atípico</h4>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="regsimple_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="480"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="sin-valor-atípico" class="level4 columns-2">
<h4 class="anchored" data-anchor-id="sin-valor-atípico">Sin valor atípico</h4>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="regsimple_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="480"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="correlación" class="level1">
<h1>Correlación</h1>
<section id="concepto" class="level2">
<h2 class="anchored" data-anchor-id="concepto">Concepto</h2>
<div class="black">
<p>El coeficiente de correlación de <em>Pearson</em> es una medida lineal entre dos variables aleatorias cuantitativas. A diferencia de la covarianza, la correlación es independiente de la escala de medida.</p>
<p>Este coeficiente puede ser de dos tipos:</p>
<ul>
<li>Paramétrico: sujeto a distribución normal o gausiana.</li>
<li>No paramétrico: no está sujeto a distribución normal o gausiana. <br> <br> <span class="math display">\[\rho_{(X,Y)} = \frac{Cov_{(X,Y)}}{\sigma_X\times\sigma_Y} = \frac{\sum_{i=1}^{n}(X_i-\mu_X)(Y_i-\mu_Y)}{\sigma_X\times\sigma_Y}\]</span></li>
</ul>
</div>
</section>
<section id="interpretación-de-rho" class="level2">
<h2 class="anchored" data-anchor-id="interpretación-de-rho">Interpretación de <span class="math inline">\(\rho\)</span></h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/corr.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img" width="650"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/measurecor.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="650"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="relaciones-lineales-análisis-exploratorio" class="level2">
<h2 class="anchored" data-anchor-id="relaciones-lineales-análisis-exploratorio">Relaciones Lineales: análisis exploratorio</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/cor_ascombe.png" class="img-fluid figure-img" width="650"></p>
<figcaption><a href="https://en.wikipedia.org/wiki/Anscombe%27s_quartet">Fuente: Wikipedia.</a></figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="prueba-de-hipótesis-para-rho" class="level2">
<h2 class="anchored" data-anchor-id="prueba-de-hipótesis-para-rho">Prueba de Hipótesis para <span class="math inline">\(\rho\)</span></h2>
<div class="columns-2">
<div class="black">
<ul>
<li><strong>Correlación de Pearson con dato atípico:</strong>
</li></ul></div>

<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.005680844</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="regsimple_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="480"></p>
</figure>
</div>
</div>
</div>
<section id="test-de-hipótesis-con-valor-atípico" class="level4">
<h4 class="anchored" data-anchor-id="test-de-hipótesis-con-valor-atípico">Test de hipótesis con valor atípico</h4>
<div class="black">
<p><span class="math display">\[H_0: \rho = 0\\H_1: \rho \neq 0\]</span></p>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's product-moment correlation

data:  datos$gasto_militar17 and datos$gasto_edu16
t = 0.043265, df = 58, p-value = 0.9656
alternative hypothesis: true correlation is not equal to 0
95 percent confidence interval:
 -0.2486025  0.2592316
sample estimates:
        cor 
0.005680844 </code></pre>
</div>
</div>
<div class="black">
<strong>Conclusión:</strong> como el valor p (0.9656) es mayor que el nivel de significancia <span class="math inline">\(\alpha = 0.05\)</span>, no existe evidencia para rechazar la hipótesis nula.
</div>
</section>
</div>
<section id="prueba-de-hipótesis-para-rho-1" class="level2">
<h2 class="anchored" data-anchor-id="prueba-de-hipótesis-para-rho-1">Prueba de Hipótesis para <span class="math inline">\(\rho\)</span></h2>
<div class="columns-2">
<div class="black">
<ul>
<li><strong>Correlación de Pearson sin dato atípico:</strong>
</li></ul></div>

<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.2046813</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="regsimple_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="480"></p>
</figure>
</div>
</div>
</div>
<section id="test-de-hipótesis-sin-valor-atípico" class="level4">
<h4 class="anchored" data-anchor-id="test-de-hipótesis-sin-valor-atípico">Test de hipótesis sin valor atípico</h4>
<div class="black">
<p><span class="math display">\[H_0: \rho = 0\\H_1: \rho \neq 0\]</span></p>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's product-moment correlation

data:  df_reg$gasto_militar17 and df_reg$gasto_edu16
t = -1.5787, df = 57, p-value = 0.1199
alternative hypothesis: true correlation is not equal to 0
95 percent confidence interval:
 -0.43781539  0.05424418
sample estimates:
       cor 
-0.2046813 </code></pre>
</div>
</div>
<strong>Conclusión:</strong> como el valor p (0.1199) es mayor que el nivel de significancia <span class="math inline">\(\alpha = 0.05\)</span>, no existe evidencia para rechazar la hipótesis nula.
</div>
</section>
</div>
<section id="regresión-lineal-simple-rls" class="level1">
<h1>Regresión Lineal Simple (RLS)</h1>
<section id="origen-francis-galton" class="level2">
<h2 class="anchored" data-anchor-id="origen-francis-galton">Origen: Francis Galton</h2>
<div class="columns-2">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/galton.jpg" class="img-fluid figure-img" width="380"></p>
<figcaption><a href="https://academic.oup.com/biomet">Revista Biometrika</a></figcaption>
</figure>
</div>
</div>
</div>
<p><br> <br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/galtondatos.PNG" class="img-fluid quarto-figure quarto-figure-center figure-img" width="550"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="idea-intuitiva-rls" class="level2">
<h2 class="anchored" data-anchor-id="idea-intuitiva-rls">Idea intuitiva RLS</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/regression.gif" class="img-fluid quarto-figure quarto-figure-center figure-img" width="550"></p>
</figure>
</div>
</div>
</div>
<section id="modelo-tentativo" class="level3">
<h3 class="anchored" data-anchor-id="modelo-tentativo">Modelo tentativo</h3>
<div class="black">
<p>El modelo tentativo se puede expresar de la siguiente manera:</p>
<p><span class="math display">\[G.Edu = \beta_0\ +\ \beta_1G.Militar\]</span></p>
</div>
</section>
</section>
<section id="rls-percepción-geométrica" class="level2">
<h2 class="anchored" data-anchor-id="rls-percepción-geométrica">RLS: percepción geométrica</h2>
<div class="columns-2">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/regressionLineal.PNG" class="img-fluid quarto-figure quarto-figure-center figure-img" width="550"></p>
</figure>
</div>
</div>
</div>
<p><br> <br> <br> <br> <br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/regression3.gif" class="img-fluid quarto-figure quarto-figure-center figure-img" width="600"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="rls-ajuste-de-parámetros" class="level2">
<h2 class="anchored" data-anchor-id="rls-ajuste-de-parámetros">RLS: ajuste de parámetros</h2>
<div class="columns-2">
<p><br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/regression5.gif" class="img-fluid quarto-figure quarto-figure-center figure-img" width="550"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/regression2.gif" class="img-fluid quarto-figure quarto-figure-center figure-img" width="550"></p>
</figure>
</div>
</div>
</div>
</div>
<div class="black">
<p><span class="math display">\[f(x|\mu,\sigma^2) = \frac{1}{\sqrt{2\pi\sigma^2}}e^{-\frac{(x-\mu)^2}{2\sigma^2}}\]</span></p>
</div>
</section>
<section id="rls-función-muestral" class="level2">
<h2 class="anchored" data-anchor-id="rls-función-muestral">RLS: función muestral</h2>
<div class="columns-2">
<p><br> <br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/regmuestral.PNG" class="quarto-figure quarto-figure-center figure-img" width="500" height="380"></p>
</figure>
</div>
</div>
</div>
<p><br> <br> <br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/regression4.gif" class="quarto-figure quarto-figure-center figure-img" width="500" height="270"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="función-matemática" class="level2">
<h2 class="anchored" data-anchor-id="función-matemática">Función matemática</h2>
<div class="black">
<p><span class="math display">\[Y_i = E(Y|X_i)\ +\ \epsilon_i\\\]</span></p>
<p>Asumiendo que <span class="math inline">\(E(Y|X_i)\)</span> es lineal en <span class="math inline">\(X_i\)</span>:</p>
<p><span class="math display">\[Y_i = E(Y|X_i)\ +\ \epsilon_i\\
Y_i = \beta_0 +\ \beta_1X_i\ +\ \epsilon_i\]</span></p>
<p>Tomando el valor esperado (esperanza matemática) a ambos lados:</p>
<p><span class="math display">\[E(Y_i|X_i)\ =\  E[E(Y|X_i)] + E(\epsilon_i|X_i)\\
E(Y_i|X_i)\ =\ E(Y|X_i)\ +\ E(\epsilon_i|X_i)\]</span></p>
<p>Como <span class="math inline">\(E(Y_i|X_i)\)</span> es igual a <span class="math inline">\(E(Y|X_i)\)</span>, la ecuación anterior determina que <span class="math inline">\(E(\epsilon_i|X_i) = 0\)</span>. Este supuesto implica que la media condicional de <span class="math inline">\(\epsilon_i\)</span> es cero.</p>
</div>
</section>
<section id="parámetros-beta_0-y-beta_1" class="level2">
<h2 class="anchored" data-anchor-id="parámetros-beta_0-y-beta_1">Parámetros <span class="math inline">\(\beta_0\)</span> y <span class="math inline">\(\beta_1\)</span></h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="regsimple_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="816"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="mínimos-cuadrados" class="level2">
<h2 class="anchored" data-anchor-id="mínimos-cuadrados"><a href="https://es.wikipedia.org/wiki/M%C3%ADnimos_cuadrados">Mínimos Cuadrados</a></h2>
<div class="black">
<p><strong>El propósito principal del análisis de regresión es estimar la función de regresión poblacional con base en la función de regresión muestral:</strong></p>
<p><span class="math display">\[Y_i = \beta_0\ +\ \beta_1X\]</span> <span class="math display">\[\hat{Y_i} = \hat{\beta_0}\ + \hat{\beta_1}X_i\ + \hat{\epsilon_i}\]</span></p>
</div>
<center>
<p><a href="https://www.youtube.com/watch?v=k964_uNn3l0"><img src="images/youtube.PNG" class="img-fluid" style="width:67.0%" alt="Clic"></a> </p>
</center></section>
<section id="supuestos-matemáticos" class="level2">
<h2 class="anchored" data-anchor-id="supuestos-matemáticos">Supuestos matemáticos</h2>
<div class="black">
<ol type="1">
<li>Linealidad en los parámetros.</li>
<li>Valores de <span class="math inline">\(X\)</span> independientes del término residual <span class="math inline">\(\epsilon\)</span>.</li>
<li><rojo>Valor medio de los residuales igual a cero: <span class="math inline">\(E(\epsilon_i|X_i) = 0\)</span>.</rojo></li>
<li><rojo>Homocedasticidad o varianza constante de los errores <span class="math inline">\(\epsilon_i\)</span>.</rojo></li>
<li>Independencia de los errores (autocorrelación): <span class="math inline">\(cov(\epsilon_i, \epsilon_j)=0\)</span>. <br> <br> <span class="math display">\[\epsilon\ \overset{\text{i.i.d.}}\sim\ N(\mu = 0,\ \sigma^2 = 1)\]</span></li>
</ol>
</div>
</section>
<section id="normalidad-de-los-residuos" class="level2">
<h2 class="anchored" data-anchor-id="normalidad-de-los-residuos">Normalidad de los residuos</h2>
<div class="black">
<p><span class="math display">\[E(\epsilon_i|X_i)=0\]</span></p>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/normalidad.PNG" class="img-fluid quarto-figure quarto-figure-center figure-img" width="580"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="homocedasticidad" class="level2">
<h2 class="anchored" data-anchor-id="homocedasticidad">Homocedasticidad</h2>
<div class="black">
<p><span class="math display">\[Var(\epsilon_i) = E[\epsilon_i-E(\epsilon_i|X_i)]^2\\
= E(\epsilon_i^2|X_i) \\
= E(\epsilon_i^2)\\
= \sigma^2\]</span></p>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/homocedasticidad.PNG" class="img-fluid quarto-figure quarto-figure-center figure-img" width="570"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="heterocedasticidad" class="level2">
<h2 class="anchored" data-anchor-id="heterocedasticidad">¿Heterocedasticidad?</h2>
<p><br> <br></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/heterocedasticidad.PNG" class="img-fluid quarto-figure quarto-figure-center figure-img" width="630"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="regresión-lineal-con-r" class="level1">
<h1>Regresión Lineal con R</h1>
<section id="función-lm---summary" class="level2">
<h2 class="anchored" data-anchor-id="función-lm---summary">Función <code>lm()</code> - <code>summary()</code></h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&lt;b&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>mod1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(gasto_edu16 <span class="sc">~</span> gasto_militar17, <span class="at">data =</span> df_reg)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&lt;/b&gt;</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>resumen_modelo <span class="ot">&lt;-</span> <span class="fu">summary</span>(mod1)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>resumen_modelo</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = gasto_edu16 ~ gasto_militar17, data = df_reg)

Residuals:
     Min       1Q   Median       3Q      Max 
-2.92035 -0.83829  0.02911  0.80882  2.58509 

Coefficients:
                Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)       4.8092     0.3058  15.727   &lt;2e-16 ***
gasto_militar17  -0.2559     0.1621  -1.579     0.12    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 1.313 on 57 degrees of freedom
Multiple R-squared:  0.04189,   Adjusted R-squared:  0.02509 
F-statistic: 2.492 on 1 and 57 DF,  p-value: 0.1199</code></pre>
</div>
</div>
</section>
<section id="graficando-recta-estático" class="level2">
<h2 class="anchored" data-anchor-id="graficando-recta-estático">Graficando recta (estático)</h2>
<div class="columns-2">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="regsimple_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="432"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="regsimple_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="384"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="graficando-recta-ggplotly" class="level2">
<h2 class="anchored" data-anchor-id="graficando-recta-ggplotly">Graficando recta (ggplotly)</h2>
<div class="rows-2">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(df_reg <span class="sc">%&gt;%</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">data =</span> ., <span class="fu">aes</span>(<span class="at">x =</span> gasto_militar17, <span class="at">y =</span> gasto_edu16)) <span class="sc">+</span> </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>,  <span class="at">color =</span> <span class="st">"forestgreen"</span>, <span class="at">lwd =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"G. Militar (% del PIB)"</span>,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"G. Educación (% del PIB)"</span>,</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Modelo ajustado</span><span class="sc">\n</span><span class="st">ggplot2"</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<center>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-3b83db10b775cdf62f08" style="width:100%;height:361px;"></div>
<script type="application/json" data-for="htmlwidget-3b83db10b775cdf62f08">{"x":{"data":[{"x":[0.90685694121361504,1.2441751239073799,0.90966299326187705,3.96803936744534,3.93739993685592,1.3807504137660001,1.1919853143222501,1.25308388957315,1.21632173957962,2.87922501615293,1.9831535621498,0.54208112320360302,1.31659418620152,1.91006185435294,3.1022327049551199,0.69877359586280197,0,1.2804434295890399,0.90051769392969505,2.2251392292421701,0.40603505500835202,0.373221347790199,2.3324667356362099,1.4436772535861899,0.00088748270663517701,1.5782303116346299,3.0992593494528999,0.90353778470444901,0.93496001378115401,4.7977879047356096,0.84122246161847603,1.2307076293139401,3.1581710557468798,0.63815420560747704,1.1254530522653401,0.77018155951052503,3.0540937475447301,0.18065026922045199,0.73710343374309295,1.55275226969285,0.60992266600560896,2.6747584247602099,1.1584442249668701,3.4954831621461899,1.1841593158456001,0.97738336711741203,1.8348367707231801,0.42067774647435402,0.97451728966177498,1.8966349225578401,1.8285005701376,1.5655817347019301,0.72332984888969298,2.1719720294153202,1.04749032315992,0.68363021288655701,1.93526087973578,3.4129745863639398,1.6750659682249001],"y":[4.2052497863769496,3.95463991165161,5.5721797943115199,2.7581200599670401,2.90340995788574,1.53553998470306,4.9465498924255398,7.0604500770568803,3.99468994140625,4.4254097938537598,4.6181302070617702,5.3665099143981898,2.68755006790161,5.3506398200988796,4.5209097862243697,2.1186900138854998,7.1187300682067898,4.9483699798584002,3.8699100017547599,3.7847700119018599,5.7663202285766602,2.8328099250793501,2.5179998874664302,6.0609998703002903,2.4495899677276598,6.3017702102661097,3.3657600879669198,5.3186597824096697,3.4674599170684801,3.8962099552154501,2.97810006141663,5.36266994476318,6.5861501693725604,4.00885009765625,4.8275399208068803,4.7485699653625497,3.09070992469788,5.0135998725891104,5.1821198463439897,4.4409899711608896,4.1126399040222203,4.0416002273559597,6.3037400245666504,2.49180006980896,4.5203700065612802,3.81826996803284,5.5417900085449201,6.6613001823425302,3.5397899150848402,6.62560987472534,3.8617799282074001,4.4183201789856001,3.06023001670837,3.47508001327515,5.9405899047851598,5.1243000030517596,5.0632600784301802,5.0143699645996103,2.55882000923157],"text":["gasto_militar17: 0.9068569412<br />gasto_edu16: 4.20525","gasto_militar17: 1.2441751239<br />gasto_edu16: 3.95464","gasto_militar17: 0.9096629933<br />gasto_edu16: 5.57218","gasto_militar17: 3.9680393674<br />gasto_edu16: 2.75812","gasto_militar17: 3.9373999369<br />gasto_edu16: 2.90341","gasto_militar17: 1.3807504138<br />gasto_edu16: 1.53554","gasto_militar17: 1.1919853143<br />gasto_edu16: 4.94655","gasto_militar17: 1.2530838896<br />gasto_edu16: 7.06045","gasto_militar17: 1.2163217396<br />gasto_edu16: 3.99469","gasto_militar17: 2.8792250162<br />gasto_edu16: 4.42541","gasto_militar17: 1.9831535621<br />gasto_edu16: 4.61813","gasto_militar17: 0.5420811232<br />gasto_edu16: 5.36651","gasto_militar17: 1.3165941862<br />gasto_edu16: 2.68755","gasto_militar17: 1.9100618544<br />gasto_edu16: 5.35064","gasto_militar17: 3.1022327050<br />gasto_edu16: 4.52091","gasto_militar17: 0.6987735959<br />gasto_edu16: 2.11869","gasto_militar17: 0.0000000000<br />gasto_edu16: 7.11873","gasto_militar17: 1.2804434296<br />gasto_edu16: 4.94837","gasto_militar17: 0.9005176939<br />gasto_edu16: 3.86991","gasto_militar17: 2.2251392292<br />gasto_edu16: 3.78477","gasto_militar17: 0.4060350550<br />gasto_edu16: 5.76632","gasto_militar17: 0.3732213478<br />gasto_edu16: 2.83281","gasto_militar17: 2.3324667356<br />gasto_edu16: 2.51800","gasto_militar17: 1.4436772536<br />gasto_edu16: 6.06100","gasto_militar17: 0.0008874827<br />gasto_edu16: 2.44959","gasto_militar17: 1.5782303116<br />gasto_edu16: 6.30177","gasto_militar17: 3.0992593495<br />gasto_edu16: 3.36576","gasto_militar17: 0.9035377847<br />gasto_edu16: 5.31866","gasto_militar17: 0.9349600138<br />gasto_edu16: 3.46746","gasto_militar17: 4.7977879047<br />gasto_edu16: 3.89621","gasto_militar17: 0.8412224616<br />gasto_edu16: 2.97810","gasto_militar17: 1.2307076293<br />gasto_edu16: 5.36267","gasto_militar17: 3.1581710557<br />gasto_edu16: 6.58615","gasto_militar17: 0.6381542056<br />gasto_edu16: 4.00885","gasto_militar17: 1.1254530523<br />gasto_edu16: 4.82754","gasto_militar17: 0.7701815595<br />gasto_edu16: 4.74857","gasto_militar17: 3.0540937475<br />gasto_edu16: 3.09071","gasto_militar17: 0.1806502692<br />gasto_edu16: 5.01360","gasto_militar17: 0.7371034337<br />gasto_edu16: 5.18212","gasto_militar17: 1.5527522697<br />gasto_edu16: 4.44099","gasto_militar17: 0.6099226660<br />gasto_edu16: 4.11264","gasto_militar17: 2.6747584248<br />gasto_edu16: 4.04160","gasto_militar17: 1.1584442250<br />gasto_edu16: 6.30374","gasto_militar17: 3.4954831621<br />gasto_edu16: 2.49180","gasto_militar17: 1.1841593158<br />gasto_edu16: 4.52037","gasto_militar17: 0.9773833671<br />gasto_edu16: 3.81827","gasto_militar17: 1.8348367707<br />gasto_edu16: 5.54179","gasto_militar17: 0.4206777465<br />gasto_edu16: 6.66130","gasto_militar17: 0.9745172897<br />gasto_edu16: 3.53979","gasto_militar17: 1.8966349226<br />gasto_edu16: 6.62561","gasto_militar17: 1.8285005701<br />gasto_edu16: 3.86178","gasto_militar17: 1.5655817347<br />gasto_edu16: 4.41832","gasto_militar17: 0.7233298489<br />gasto_edu16: 3.06023","gasto_militar17: 2.1719720294<br />gasto_edu16: 3.47508","gasto_militar17: 1.0474903232<br />gasto_edu16: 5.94059","gasto_militar17: 0.6836302129<br />gasto_edu16: 5.12430","gasto_militar17: 1.9352608797<br />gasto_edu16: 5.06326","gasto_militar17: 3.4129745864<br />gasto_edu16: 5.01437","gasto_militar17: 1.6750659682<br />gasto_edu16: 2.55882"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0,0.060731492465007718,0.12146298493001544,0.18219447739502315,0.24292596986003087,0.3036574623250386,0.36438895479004629,0.42512044725505405,0.48585193972006174,0.54658343218506944,0.60731492465007719,0.66804641711508495,0.72877790958009259,0.78950940204510034,0.85024089451010809,0.91097238697511573,0.97170387944012349,1.0324353719051311,1.0931668643701389,1.1538983568351466,1.2146298493001544,1.2753613417651621,1.3360928342301699,1.3968243266951774,1.4575558191601852,1.5182873116251929,1.5790188040902007,1.6397502965552084,1.7004817890202162,1.7612132814852237,1.8219447739502315,1.8826762664152392,1.943407758880247,2.0041392513452547,2.0648707438102623,2.1256022362752702,2.1863337287402778,2.2470652212052857,2.3077967136702933,2.3685282061353008,2.4292596986003088,2.4899911910653163,2.5507226835303243,2.6114541759953318,2.6721856684603398,2.7329171609253473,2.7936486533903548,2.8543801458553628,2.9151116383203703,2.9758431307853783,3.0365746232503859,3.0973061157153938,3.1580376081804014,3.2187691006454089,3.2795005931104169,3.3402320855754244,3.4009635780404324,3.4616950705054399,3.5224265629704474,3.5831580554354554,3.6438895479004629,3.7046210403654709,3.7653525328304784,3.8260840252954864,3.8868155177604939,3.9475470102255015,4.0082785026905094,4.0690099951555174,4.1297414876205245,4.1904729800855325,4.2512044725505405,4.3119359650155475,4.3726674574805555,4.4333989499455635,4.4941304424105715,4.5548619348755786,4.6155934273405865,4.6763249198055945,4.7370564122706016,4.7977879047356096],"y":[4.8092175679899309,4.793676706629288,4.778135845268646,4.7625949839080031,4.7470541225473601,4.7315132611867181,4.7159723998260752,4.7004315384654323,4.6848906771047893,4.6693498157441473,4.6538089543835044,4.6382680930228615,4.6227272316622194,4.6071863703015765,4.5916455089409336,4.5761046475802916,4.5605637862196486,4.5450229248590057,4.5294820634983628,4.5139412021377208,4.4984003407770778,4.4828594794164349,4.4673186180557929,4.45177775669515,4.436236895334507,4.420696033973865,4.4051551726132221,4.3896143112525792,4.3740734498919362,4.3585325885312942,4.3429917271706513,4.3274508658100084,4.3119100044493663,4.2963691430887234,4.2808282817280805,4.2652874203674376,4.2497465590067955,4.2342056976461526,4.2186648362855106,4.2031239749248677,4.1875831135642247,4.1720422522035818,4.1565013908429398,4.1409605294822969,4.1254196681216539,4.1098788067610119,4.094337945400369,4.0787970840397261,4.0632562226790832,4.0477153613184411,4.0321744999577982,4.0166336385971553,4.0010927772365132,3.9855519158758703,3.9700110545152274,3.9544701931545849,3.9389293317939424,3.9233884704332995,3.907847609072657,3.8923067477120146,3.8767658863513716,3.8612250249907292,3.8456841636300862,3.8301433022694438,3.8146024409088009,3.7990615795481584,3.7835207181875159,3.767979856826873,3.7524389954662305,3.736898134105588,3.7213572727449451,3.7058164113843026,3.6902755500236601,3.6747346886630172,3.6591938273023743,3.6436529659417323,3.6281121045810893,3.6125712432204464,3.5970303818598039,3.5814895204991615],"text":["gasto_militar17: 0.00000000<br />gasto_edu16: 4.809218","gasto_militar17: 0.06073149<br />gasto_edu16: 4.793677","gasto_militar17: 0.12146298<br />gasto_edu16: 4.778136","gasto_militar17: 0.18219448<br />gasto_edu16: 4.762595","gasto_militar17: 0.24292597<br />gasto_edu16: 4.747054","gasto_militar17: 0.30365746<br />gasto_edu16: 4.731513","gasto_militar17: 0.36438895<br />gasto_edu16: 4.715972","gasto_militar17: 0.42512045<br />gasto_edu16: 4.700432","gasto_militar17: 0.48585194<br />gasto_edu16: 4.684891","gasto_militar17: 0.54658343<br />gasto_edu16: 4.669350","gasto_militar17: 0.60731492<br />gasto_edu16: 4.653809","gasto_militar17: 0.66804642<br />gasto_edu16: 4.638268","gasto_militar17: 0.72877791<br />gasto_edu16: 4.622727","gasto_militar17: 0.78950940<br />gasto_edu16: 4.607186","gasto_militar17: 0.85024089<br />gasto_edu16: 4.591646","gasto_militar17: 0.91097239<br />gasto_edu16: 4.576105","gasto_militar17: 0.97170388<br />gasto_edu16: 4.560564","gasto_militar17: 1.03243537<br />gasto_edu16: 4.545023","gasto_militar17: 1.09316686<br />gasto_edu16: 4.529482","gasto_militar17: 1.15389836<br />gasto_edu16: 4.513941","gasto_militar17: 1.21462985<br />gasto_edu16: 4.498400","gasto_militar17: 1.27536134<br />gasto_edu16: 4.482859","gasto_militar17: 1.33609283<br />gasto_edu16: 4.467319","gasto_militar17: 1.39682433<br />gasto_edu16: 4.451778","gasto_militar17: 1.45755582<br />gasto_edu16: 4.436237","gasto_militar17: 1.51828731<br />gasto_edu16: 4.420696","gasto_militar17: 1.57901880<br />gasto_edu16: 4.405155","gasto_militar17: 1.63975030<br />gasto_edu16: 4.389614","gasto_militar17: 1.70048179<br />gasto_edu16: 4.374073","gasto_militar17: 1.76121328<br />gasto_edu16: 4.358533","gasto_militar17: 1.82194477<br />gasto_edu16: 4.342992","gasto_militar17: 1.88267627<br />gasto_edu16: 4.327451","gasto_militar17: 1.94340776<br />gasto_edu16: 4.311910","gasto_militar17: 2.00413925<br />gasto_edu16: 4.296369","gasto_militar17: 2.06487074<br />gasto_edu16: 4.280828","gasto_militar17: 2.12560224<br />gasto_edu16: 4.265287","gasto_militar17: 2.18633373<br />gasto_edu16: 4.249747","gasto_militar17: 2.24706522<br />gasto_edu16: 4.234206","gasto_militar17: 2.30779671<br />gasto_edu16: 4.218665","gasto_militar17: 2.36852821<br />gasto_edu16: 4.203124","gasto_militar17: 2.42925970<br />gasto_edu16: 4.187583","gasto_militar17: 2.48999119<br />gasto_edu16: 4.172042","gasto_militar17: 2.55072268<br />gasto_edu16: 4.156501","gasto_militar17: 2.61145418<br />gasto_edu16: 4.140961","gasto_militar17: 2.67218567<br />gasto_edu16: 4.125420","gasto_militar17: 2.73291716<br />gasto_edu16: 4.109879","gasto_militar17: 2.79364865<br />gasto_edu16: 4.094338","gasto_militar17: 2.85438015<br />gasto_edu16: 4.078797","gasto_militar17: 2.91511164<br />gasto_edu16: 4.063256","gasto_militar17: 2.97584313<br />gasto_edu16: 4.047715","gasto_militar17: 3.03657462<br />gasto_edu16: 4.032174","gasto_militar17: 3.09730612<br />gasto_edu16: 4.016634","gasto_militar17: 3.15803761<br />gasto_edu16: 4.001093","gasto_militar17: 3.21876910<br />gasto_edu16: 3.985552","gasto_militar17: 3.27950059<br />gasto_edu16: 3.970011","gasto_militar17: 3.34023209<br />gasto_edu16: 3.954470","gasto_militar17: 3.40096358<br />gasto_edu16: 3.938929","gasto_militar17: 3.46169507<br />gasto_edu16: 3.923388","gasto_militar17: 3.52242656<br />gasto_edu16: 3.907848","gasto_militar17: 3.58315806<br />gasto_edu16: 3.892307","gasto_militar17: 3.64388955<br />gasto_edu16: 3.876766","gasto_militar17: 3.70462104<br />gasto_edu16: 3.861225","gasto_militar17: 3.76535253<br />gasto_edu16: 3.845684","gasto_militar17: 3.82608403<br />gasto_edu16: 3.830143","gasto_militar17: 3.88681552<br />gasto_edu16: 3.814602","gasto_militar17: 3.94754701<br />gasto_edu16: 3.799062","gasto_militar17: 4.00827850<br />gasto_edu16: 3.783521","gasto_militar17: 4.06901000<br />gasto_edu16: 3.767980","gasto_militar17: 4.12974149<br />gasto_edu16: 3.752439","gasto_militar17: 4.19047298<br />gasto_edu16: 3.736898","gasto_militar17: 4.25120447<br />gasto_edu16: 3.721357","gasto_militar17: 4.31193597<br />gasto_edu16: 3.705816","gasto_militar17: 4.37266746<br />gasto_edu16: 3.690276","gasto_militar17: 4.43339895<br />gasto_edu16: 3.674735","gasto_militar17: 4.49413044<br />gasto_edu16: 3.659194","gasto_militar17: 4.55486193<br />gasto_edu16: 3.643653","gasto_militar17: 4.61559343<br />gasto_edu16: 3.628112","gasto_militar17: 4.67632492<br />gasto_edu16: 3.612571","gasto_militar17: 4.73705641<br />gasto_edu16: 3.597030","gasto_militar17: 4.79778790<br />gasto_edu16: 3.581490"],"type":"scatter","mode":"lines","name":"fitted values","line":{"width":4.5354330708661417,"color":"rgba(34,139,34,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":46.678408349641231,"r":7.3059360730593621,"b":43.098499673842149,"l":31.415525114155255},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Modelo ajustado<br />ggplot2","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342468},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.23988939523678049,5.0376772999723904],"tickmode":"array","ticktext":["0","1","2","3","4","5"],"tickvals":[0,1,2,3,4,5],"categoryorder":"array","categoryarray":["0","1","2","3","4","5"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.6529680365296811,"tickwidth":0.33208800332088001,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088001,"zeroline":false,"anchor":"y","title":{"text":"G. Militar (% del PIB)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1.2563804805278735,7.3978895723819766],"tickmode":"array","ticktext":["2","3","4","5","6","7"],"tickvals":[2,3,4,5,6,7],"categoryorder":"array","categoryarray":["2","3","4","5","6","7"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.6529680365296811,"tickwidth":0.33208800332088001,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088001,"zeroline":false,"anchor":"x","title":{"text":"G. Educación (% del PIB)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275597,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"58a86c64261":{"x":{},"y":{},"type":"scatter"},"58a86e6915c5":{"x":{},"y":{}}},"cur_data":"58a86c64261","visdat":{"58a86c64261":["function (y) ","x"],"58a86e6915c5":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</center>
</div>
</section>
<section id="graficando-recta-plot_ly" class="level2">
<h2 class="anchored" data-anchor-id="graficando-recta-plot_ly">Graficando recta (plot_ly)</h2>
<div class="rows-2">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>df_reg <span class="sc">%&gt;%</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_ly</span>(<span class="at">x =</span> <span class="sc">~</span>gasto_militar17) <span class="sc">%&gt;%</span> </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_markers</span>(<span class="at">y =</span> <span class="sc">~</span>gasto_edu16) <span class="sc">%&gt;%</span> </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">"Modelo ajustado</span><span class="sc">\n</span><span class="st">plotly"</span>,</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">width =</span> <span class="dv">600</span>, <span class="at">height =</span> <span class="dv">300</span>,</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"G. Militar (% del PIB)"</span>),</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"G. Educación (% del PIB)"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_lines</span>(<span class="at">x =</span> <span class="sc">~</span>gasto_militar17, <span class="at">y =</span> <span class="fu">fitted</span>(mod1)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">showlegend =</span> <span class="cn">FALSE</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<center>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-b5aa7fe21051279ae695" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-b5aa7fe21051279ae695">{"x":{"visdat":{"58a86c1b4e66":["function () ","plotlyVisDat"]},"cur_data":"58a86c1b4e66","attrs":{"58a86c1b4e66":{"x":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"scatter","mode":"markers","inherit":true},"58a86c1b4e66.1":{"x":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":[4.5771577679535982,4.4908398643603711,4.5764397143691671,3.7938176958631029,3.8016581608942164,4.4558909843175281,4.5041949551424425,4.488560159276787,4.497967395179935,4.0724394157337782,4.3017392677655035,4.6705019323288663,4.4723082169184876,4.3204430415635562,4.0153729509827425,4.630405173711317,4.8092175679899292,4.4815590005530339,4.5787799471422197,4.2398164407295642,4.7053153874024618,4.7137122380956971,4.2123519107245704,4.4397883454095117,4.8089904659520251,4.4053569435797915,4.0161338166186811,4.578007122202111,4.5699663432601998,3.5814895204991606,4.5939532772761149,4.494286123588604,4.001058628724012,4.6459173487211363,4.5212202021546437,4.6121322609595934,4.0276914505419583,4.7629901384510394,4.6205967749334231,4.4118766370944202,4.653141647435727,4.1247613136609251,4.5127779390013893,3.9147422800217573,4.5061975859423411,4.5591104359558932,4.3396927347306793,4.7015684016330779,4.5598438497183258,4.323878920990472,4.3413141342856214,4.4085936461955519,4.6241213610082514,4.2534216404028431,4.5411704440332343,4.6342802837376444,4.3139947468814572,3.9358557795464861,4.3805772213507801],"type":"scatter","mode":"lines","inherit":true}},"layout":{"width":600,"height":300,"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Modelo ajustado<br />plotly","xaxis":{"domain":[0,1],"automargin":true,"title":"G. Militar (% del PIB)"},"yaxis":{"domain":[0,1],"automargin":true,"title":"G. Educación (% del PIB)"},"showlegend":false,"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[0.90685694121361504,1.2441751239073799,0.90966299326187705,3.96803936744534,3.93739993685592,1.3807504137660001,1.1919853143222501,1.25308388957315,1.21632173957962,2.87922501615293,1.9831535621498,0.54208112320360302,1.31659418620152,1.91006185435294,3.1022327049551199,0.69877359586280197,0,1.2804434295890399,0.90051769392969505,2.2251392292421701,0.40603505500835202,0.373221347790199,2.3324667356362099,1.4436772535861899,0.00088748270663517701,1.5782303116346299,3.0992593494528999,0.90353778470444901,0.93496001378115401,4.7977879047356096,0.84122246161847603,1.2307076293139401,3.1581710557468798,0.63815420560747704,1.1254530522653401,0.77018155951052503,3.0540937475447301,0.18065026922045199,0.73710343374309295,1.55275226969285,0.60992266600560896,2.6747584247602099,1.1584442249668701,3.4954831621461899,1.1841593158456001,0.97738336711741203,1.8348367707231801,0.42067774647435402,0.97451728966177498,1.8966349225578401,1.8285005701376,1.5655817347019301,0.72332984888969298,2.1719720294153202,1.04749032315992,0.68363021288655701,1.93526087973578,3.4129745863639398,1.6750659682249001],"y":[4.2052497863769496,3.95463991165161,5.5721797943115199,2.7581200599670401,2.90340995788574,1.53553998470306,4.9465498924255398,7.0604500770568803,3.99468994140625,4.4254097938537598,4.6181302070617702,5.3665099143981898,2.68755006790161,5.3506398200988796,4.5209097862243697,2.1186900138854998,7.1187300682067898,4.9483699798584002,3.8699100017547599,3.7847700119018599,5.7663202285766602,2.8328099250793501,2.5179998874664302,6.0609998703002903,2.4495899677276598,6.3017702102661097,3.3657600879669198,5.3186597824096697,3.4674599170684801,3.8962099552154501,2.97810006141663,5.36266994476318,6.5861501693725604,4.00885009765625,4.8275399208068803,4.7485699653625497,3.09070992469788,5.0135998725891104,5.1821198463439897,4.4409899711608896,4.1126399040222203,4.0416002273559597,6.3037400245666504,2.49180006980896,4.5203700065612802,3.81826996803284,5.5417900085449201,6.6613001823425302,3.5397899150848402,6.62560987472534,3.8617799282074001,4.4183201789856001,3.06023001670837,3.47508001327515,5.9405899047851598,5.1243000030517596,5.0632600784301802,5.0143699645996103,2.55882000923157],"type":"scatter","mode":"markers","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0,0.00088748270663517701,0.18065026922045199,0.373221347790199,0.40603505500835202,0.42067774647435402,0.54208112320360302,0.60992266600560896,0.63815420560747704,0.68363021288655701,0.69877359586280197,0.72332984888969298,0.73710343374309295,0.77018155951052503,0.84122246161847603,0.90051769392969505,0.90353778470444901,0.90685694121361504,0.90966299326187705,0.93496001378115401,0.97451728966177498,0.97738336711741203,1.04749032315992,1.1254530522653401,1.1584442249668701,1.1841593158456001,1.1919853143222501,1.21632173957962,1.2307076293139401,1.2441751239073799,1.25308388957315,1.2804434295890399,1.31659418620152,1.3807504137660001,1.4436772535861899,1.55275226969285,1.5655817347019301,1.5782303116346299,1.6750659682249001,1.8285005701376,1.8348367707231801,1.8966349225578401,1.91006185435294,1.93526087973578,1.9831535621498,2.1719720294153202,2.2251392292421701,2.3324667356362099,2.6747584247602099,2.87922501615293,3.0540937475447301,3.0992593494528999,3.1022327049551199,3.1581710557468798,3.4129745863639398,3.4954831621461899,3.93739993685592,3.96803936744534,4.7977879047356096],"y":[4.8092175679899292,4.8089904659520251,4.7629901384510394,4.7137122380956971,4.7053153874024618,4.7015684016330779,4.6705019323288663,4.653141647435727,4.6459173487211363,4.6342802837376444,4.630405173711317,4.6241213610082514,4.6205967749334231,4.6121322609595934,4.5939532772761149,4.5787799471422197,4.578007122202111,4.5771577679535982,4.5764397143691671,4.5699663432601998,4.5598438497183258,4.5591104359558932,4.5411704440332343,4.5212202021546437,4.5127779390013893,4.5061975859423411,4.5041949551424425,4.497967395179935,4.494286123588604,4.4908398643603711,4.488560159276787,4.4815590005530339,4.4723082169184876,4.4558909843175281,4.4397883454095117,4.4118766370944202,4.4085936461955519,4.4053569435797915,4.3805772213507801,4.3413141342856214,4.3396927347306793,4.323878920990472,4.3204430415635562,4.3139947468814572,4.3017392677655035,4.2534216404028431,4.2398164407295642,4.2123519107245704,4.1247613136609251,4.0724394157337782,4.0276914505419583,4.0161338166186811,4.0153729509827425,4.001058628724012,3.9358557795464861,3.9147422800217573,3.8016581608942164,3.7938176958631029,3.5814895204991606],"type":"scatter","mode":"lines","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</center>
</div>
</section>
<section id="diagnósticos-del-modelo" class="level2">
<h2 class="anchored" data-anchor-id="diagnósticos-del-modelo">Diagnósticos del modelo</h2>
<ul>
<li>Análisis de residuales:
<ul>
<li><strong>Residuales ordinarios:</strong> <code>residuals()</code></li>
<li><strong>Residuales estandarizados:</strong> <code>rstandard()</code></li>
<li><strong>Residuales estudentizados:</strong> <code>rstudent()</code></li>
<li><strong>Tarea:</strong> ¿Cuál es la diferencia entre los tipos de residuales? ¿Cuándo usar cada uno y por qué?</li>
<li><a href="http://dm.udc.es/asignaturas/estadistica2/sec7_3.html">Leer.</a></li>
<li><a href="https://tarwi.lamolina.edu.pe/~clopez/Regresion/Capitulo_7.html">Residuales con R.</a></li>
</ul></li>
</ul>
</section>
<section id="residuales-ordinarios-con-r" class="level2">
<h2 class="anchored" data-anchor-id="residuales-ordinarios-con-r">Residuales ordinarios con R</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>))</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&lt;b&gt;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mod1)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="regsimple_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="864"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&lt;/b&gt;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="normalidad-de-residuales" class="level2">
<h2 class="anchored" data-anchor-id="normalidad-de-residuales">Normalidad de residuales</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&lt;b&gt;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>errores <span class="ot">&lt;-</span> mod1<span class="sc">$</span>residuals <span class="co"># Residuales del modelo</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&lt;/b&gt;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(errores, <span class="at">main =</span> <span class="st">"Histograma de residuales"</span>)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> <span class="fu">mean</span>(errores), <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">lwd =</span> <span class="dv">2</span>)</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="fu">qqnorm</span>(errores, <span class="at">main =</span> <span class="st">"Gráfico cuantil-cuantil"</span>)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="fu">qqline</span>(errores, <span class="at">col =</span> <span class="st">"red"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="regsimple_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="homocedasticidad-de-residuales" class="level2">
<h2 class="anchored" data-anchor-id="homocedasticidad-de-residuales">Homocedasticidad de residuales</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&lt;b&gt;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>predichos <span class="ot">&lt;-</span> mod1<span class="sc">$</span>fitted.values</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&lt;/b&gt;</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(predichos, errores, <span class="at">main =</span> <span class="st">"Residuales vs Predichos"</span>)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="fu">lm</span>(errores <span class="sc">~</span> predichos), <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">lty =</span> <span class="dv">2</span>)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="dv">2</span>, <span class="at">col =</span> <span class="st">"blue"</span>, <span class="at">lty =</span> <span class="dv">2</span>)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="sc">-</span><span class="dv">2</span>, <span class="at">col =</span> <span class="st">"blue"</span>, <span class="at">lty =</span> <span class="dv">2</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="regsimple_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="medidas-de-influencia" class="level2">
<h2 class="anchored" data-anchor-id="medidas-de-influencia">Medidas de influencia</h2>
<div class="columns-2">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># &lt;b&gt;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(car)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="fu">influencePlot</span>(mod1)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="regsimple_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="480"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>      StudRes        Hat       CookD
4  -0.8312276 0.10496570 0.040736041
6  -2.3284733 0.01746053 0.044706663
25 -1.8881594 0.05415889 0.097674574
30  0.2618339 0.17620806 0.007453931
33  2.0838759 0.05565281 0.120870520</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># &lt;/b&gt;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="diagnósticos-del-modelo-contraste-de-hipótesis-lmtest" class="level2">
<h2 class="anchored" data-anchor-id="diagnósticos-del-modelo-contraste-de-hipótesis-lmtest">Diagnósticos del modelo | Contraste de hipótesis (<code>lmtest</code>)</h2>
<div class="columns-2">
<div class="black">
<ul>
<li><strong>Shapiro Wilk - Normalidad:</strong></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">shapiro.test</span>(errores)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="do">##  Shapiro-Wilk normality test</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="do">## data:  errores</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="do">## W = 0.98764, p-value = 0.8122</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><strong>Breusch Pagan - Homocedasticidad:</strong></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># &lt;b&gt;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lmtest)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co"># &lt;/b&gt;</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="fu">bptest</span>(mod1)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="do">##  studentized Breusch-Pagan test</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="do">## data:  mod1</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="do">## BP = 1.2889, df = 1, p-value = 0.2563</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br> <br> <br> - <strong>Durbin-Watson - Autocorrelación:</strong></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dwtest</span>(mod1, <span class="at">order.by =</span> <span class="cn">NULL</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="do">##  Durbin-Watson test</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="do">## data:  mod1</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="do">## DW = 2.5595, p-value = 0.9863</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="do">## alternative hypothesis: true autocorrelation is greater than 0</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><strong>Harvey/Collier - Linealidad:</strong></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">harvtest</span>(mod1, <span class="at">order.by =</span> <span class="cn">NULL</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="do">##  Harvey-Collier test</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="do">## data:  mod1</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="do">## HC = 0.82571, df = 56, p-value = 0.4125</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="bondad-de-ajuste-del-modelo-r2" class="level2">
<h2 class="anchored" data-anchor-id="bondad-de-ajuste-del-modelo-r2">Bondad de ajuste del modelo (R<sup>2</sup>)</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>resumen_modelo<span class="sc">$</span>adj.r.squared</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 0.02508557</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>resumen_modelo<span class="sc">$</span>r.squared</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 0.04189444</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ascombe.PNG" class="quarto-figure quarto-figure-center figure-img" width="650" height="400"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="modelo-final" class="level2">
<h2 class="anchored" data-anchor-id="modelo-final">Modelo final</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpmisc)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df_reg, <span class="fu">aes</span>(<span class="at">x =</span> gasto_militar17, <span class="at">y =</span> gasto_edu16)) <span class="sc">+</span> </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">TRUE</span>,  <span class="at">color =</span> <span class="st">"firebrick"</span>, <span class="at">lwd =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"G. Militar (% del PIB)"</span>, <span class="at">y =</span> <span class="st">"G. Educación (% del PIB)"</span>,</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Modelo final de RLS"</span>) <span class="sc">+</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_poly_eq</span>(<span class="fu">aes</span>(<span class="at">label =</span>  <span class="fu">paste</span>(..eq.label.., ..adj.rr.label.., <span class="at">sep =</span> <span class="st">"~~~~"</span>)),</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">formula =</span> y <span class="sc">~</span> x, <span class="at">parse =</span> <span class="cn">TRUE</span>, <span class="at">label.x.npc =</span> <span class="fl">0.9</span>, <span class="at">color=</span><span class="st">"black"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="regsimple_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="intervalos-de-confianza-de-beta_0-y-beta_1" class="level2">
<h2 class="anchored" data-anchor-id="intervalos-de-confianza-de-beta_0-y-beta_1">Intervalos de confianza de <span class="math inline">\(\beta_0\)</span> y <span class="math inline">\(\beta_1\)</span></h2>
<div class="black">
<ul>
<li>Función <code>confint()</code></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># &lt;b&gt;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">confint</span>(mod1, <span class="at">level =</span> <span class="fl">0.95</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                     2.5 %   97.5 %
(Intercept)      4.1968927 5.421542
gasto_militar17 -0.5804712 0.068682</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&lt;/b&gt;</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="estimaciones-y-predicciones" class="level2">
<h2 class="anchored" data-anchor-id="estimaciones-y-predicciones">Estimaciones y Predicciones</h2>
<div class="black">
<ul>
<li>Función <code>predict()</code></li>
<li><strong>Estimación:</strong> estimar cúal es el gasto <rojo>promedio</rojo> en educación para un país que tiene 2.15% del PIB en inversión militar.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">predict</span>(<span class="at">object =</span> mod1, <span class="at">newdata =</span> <span class="fu">data.frame</span>(<span class="at">gasto_militar17 =</span> <span class="fu">c</span>(<span class="fl">2.1</span>)),</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">interval =</span> <span class="st">"confidence"</span>, <span class="at">level =</span> <span class="fl">0.95</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       fit      lwr      upr
1 4.271839 3.887763 4.655915</code></pre>
</div>
</div>
<ul>
<li><strong>Predicción:</strong> predecir cúal es el gasto en educación para un país que tiene 2.15% del PIB en inversión militar.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">predict</span>(<span class="at">object =</span> mod1, <span class="at">newdata =</span> <span class="fu">data.frame</span>(<span class="at">gasto_militar17 =</span> <span class="fu">c</span>(<span class="fl">2.1</span>)),</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">interval =</span> <span class="st">"prediction"</span>, <span class="at">level =</span> <span class="fl">0.95</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       fit      lwr      upr
1 4.271839 1.613811 6.929867</code></pre>
</div>
</div>
</div>
</section>
<section id="regresión-lineal-múltiple" class="level2">
<h2 class="anchored" data-anchor-id="regresión-lineal-múltiple">¿Regresión Lineal Múltiple?</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/rlm.gif" class="img-fluid quarto-figure quarto-figure-center figure-img" width="600"></p>
</figure>
</div>
</div>
</div>


</section>
</section>
</section></section></section></div>
</section>
</div>
</section>
</section>
</main></div>





 <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/semillerorpy\.netlify\.app");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
 <!-- /content -->




</body></html>